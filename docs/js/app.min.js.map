{"version":3,"sources":["docs/js/app.js"],"names":["angular","module","service","Http","Bearer","api","store","getById","storeId","get","reserve","data","navs","main","docs","id","path","split","join","maps","markers","Object","assign","this","config","$locationProvider","$routeProvider","$modalProvider","when","templateUrl","controller","resolve","$route","Api","current","params","booking","BookingService","currentOrGoTo","otherwise","title","customClass","run","$rootScope","$modal","Router","Trust","modals","addModal","router","trust","accessToken","console","log","app","DefaultBookingService","categories","products","daytimes","times","model","category","date","daytime","time","factory","$promise","$location","storage","environment","options","active","statics","new","promise","then","set","error","reject","exist","$$lastRequestedPath","update","publics","getProductsByCategory","filter","x","sort","a","b","astr","name","toUpperCase","bstr","getTimesByDaytime","map","i","getProductNames","prototype","$scope","State","View","Range","state","modal","items","onSelect","item","forEach","onSubmit","find","ready","plannerOptions","onMonthDidChange","month","view","onWeekDidSelect","week","onDayDidSelect","day","$root","appointment","onBack","busy","setTimeout","success","$booking","directive","$templateCache","$parse","$q","$timeout","$filter","Hash","DateTime","CalendarFactory","priority","restrict","element","attributes","url","template","put","scope","link","transclude","calendar","Month","Week","Day","sources","doNavWeek","dir","setWeek","getDate","doNavMonth","isOutside","setDate","getMonthByDate","days","each","d","getDay","dirty","hours","availableHours","recordedHours","selected","isCurrent","past","key","today","weekend","working","holiday","vacation","wasVacation","wasWorkable","workable","green","orange","onWeekSelect","onDaySelect","getDayClasses","classes","extend","$today","available","full","status-green","status-orange","hasWeeksBefore","getWeekByDate","input","charAt","substr","toLowerCase","onSelectCategory","onSelectProduct","state2","googlemaps","mapbox","setMarkers","Nav","Scrollable","AuthService","nav","onPath","onNav","$nav","setItems","scrollable","environmentProvider","add","http","interceptors","withCredentials","language","code","culture","iso","location","hash","html5","plugins","facebook","appId","fields","version","google","apiKey","clientId","styles","center","lat","lng","zoom","style","paths"],"mappings":"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","file":"app.min.js","sourcesContent":["/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app', ['ngSanitize', 'artisan', 'jsonFormatter']);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.service('Api', ['Http', 'Bearer', function(Http, Bearer) {\n\n\t\tvar api = {\n\t\t\tstore: {\n\t\t\t\tgetById: function(storeId) {\n\t\t\t\t\treturn Http.get('/store/store.json');\n\t\t\t\t},\n\t\t\t},\n\t\t\treserve: {\n\t\t\t\tdata: function() {\n\t\t\t\t\treturn Http.get('/reserve/data.json');\n\t\t\t\t},\n\t\t\t},\n\t\t\t/*\n\t\t\tauth: {\n\t\t\t    authorized: function() {\n\t\t\t        return Http.get('/auth/authorized');\n\t\t\t    },\n\t\t\t    token: function (model, remember) {\n\t\t\t        return Http.post('/auth/token', model).then(function (data) {\n\t\t\t            Bearer.set(data.accessToken, true);\n\t\t\t        });\n\t\t\t    },\n\t\t\t},\n\t\t\t*/\n\t\t\tnavs: {\n\t\t\t\tmain: function() {\n\t\t\t\t\treturn Http.get('/navs/main.json');\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocs: {\n\t\t\t\tid: function(id) {\n\t\t\t\t\treturn Http.get('/docs/' + id + '.json');\n\t\t\t\t},\n\t\t\t\tpath: function(path) {\n\t\t\t\t\tpath = path.split('/').join('-');\n\t\t\t\t\treturn Http.get('/docs/' + path + '.json');\n\t\t\t\t},\n\t\t\t},\n\t\t\tmaps: {\n\t\t\t\tmarkers: function() {\n\t\t\t\t\treturn Http.get('/maps/markers.json');\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tObject.assign(this, api);\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['$locationProvider', '$routeProvider', '$modalProvider', function($locationProvider, $routeProvider, $modalProvider) {\n\t\t// HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\n\t\t// $locationProvider.html5Mode(false);\n\t\t//$locationProvider.hashPrefix(''); /* Back to default: fix ancore sulla stessa pagina https://www.eatalyworld.it/it/chi-siamo/chi-siamo */\n\n\t\t$routeProvider.when('/reserve', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve.html';\n\t\t\t},\n\t\t\tcontroller: 'ReserveController',\n\t\t\tresolve: {\n\t\t\t\tstore: function() { return null; },\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/reserve.html';\n\t\t\t},\n\t\t\tcontroller: 'ReserveController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId/planner', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/planner.html';\n\t\t\t},\n\t\t\tcontroller: 'PlannerController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t\tbooking: ['BookingService', function(BookingService) {\n\t\t\t\t\treturn BookingService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t}).when('/contact-us', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/contact-us.html';\n\t\t\t},\n\t\t\tcontroller: 'ContactUsCtrl',\n\t\t\t// resolve: {\n\t\t\t//    user: ['Users', function(Users) {\n\t\t\t//        return Users.isAuthorizedOrGoTo('/home');\n\t\t\t//    }]\n\t\t\t// },\n\n\t\t});\n\n\t\t$routeProvider.otherwise('/reserve/1');\n\n\t\t$modalProvider.when('categoriesModal', {\n\t\t\ttitle: 'Categories modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/categories.html',\n\t\t\tcontroller: 'CategoriesModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('productsModal', {\n\t\t\ttitle: 'Products modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/products.html',\n\t\t\tcontroller: 'ProductsModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('timesModal', {\n\t\t\ttitle: 'Times modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/times.html',\n\t\t\tcontroller: 'TimesModal',\n\t\t\tcustomClass: '',\n\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\t// app.run(['$rootScope', 'Router', 'Trust', 'Bearer', 'FacebookService', 'GoogleService', function($rootScope, Router, Trust, Bearer, FacebookService, GoogleService) {\n\tapp.run(['$rootScope', '$modal', 'Router', 'Trust', 'Bearer', function($rootScope, $modal, Router, Trust, Bearer) {\n\n\t\t$rootScope.modals = $modal.modals;\n\t\t$rootScope.addModal = $modal.addModal;\n\n\t\t$rootScope.router = Router;\n\t\t$rootScope.trust = Trust;\n\n\t\t$rootScope.accessToken = Bearer.get();\n\t\tconsole.log('app.run accessToken', $rootScope.accessToken);\n\n\t\t/*\n\t\tFacebookService.require();\n\t\tGoogleService.require();\n\t\t*/\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tvar DefaultBookingService = {\n\t\tcategories: [],\n\t\tproducts: [],\n\t\tdaytimes: [],\n\t\ttimes: [],\n\t\tmodel: {\n\t\t\tstore: null,\n\t\t\tcategory: null,\n\t\t\tproducts: null,\n\t\t\tdate: null,\n\t\t\tdaytime: null,\n\t\t\ttime: null,\n\t\t},\n\t};\n\n\tapp.factory('BookingService', ['$promise', '$location', 'Api', 'SessionStorage', 'environment', function($promise, $location, Api, storage, environment) {\n\n\t\tfunction BookingService(options) {\n\t\t\tObject.assign(this, DefaultBookingService);\n\t\t\tif (options) {\n\t\t\t\tObject.assign(this, options);\n\t\t\t\tthis.model.store = this.store;\n\t\t\t\tthis.model.category = this.categories[0];\n\t\t\t\tthis.model.category.active = true;\n\t\t\t}\n\t\t}\n\n\t\tvar statics = {\n\t\t\tnew: newBooking,\n\t\t\tcurrent: getCurrent,\n\t\t\tcurrentOrGoTo: currentOrGoTo,\n\t\t\tupdate: update,\n\t\t};\n\n\t\tvar publics = {\n\t\t\tgetProductsByCategory: getProductsByCategory,\n\t\t\tgetTimesByDaytime: getTimesByDaytime,\n\t\t\tgetProductNames: getProductNames,\n\t\t};\n\n\t\tObject.assign(BookingService, statics);\n\t\tObject.assign(BookingService.prototype, publics);\n\n\t\treturn BookingService;\n\n\t\t// static methods\n\n\t\tfunction newBooking() {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tApi.reserve.data().then(function(data) {\n\t\t\t\t\tvar booking = new BookingService(data);\n\t\t\t\t\tBookingService.booking = booking;\n\t\t\t\t\tstorage.set('booking', booking);\n\t\t\t\t\tpromise.resolve(booking);\n\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction getCurrent() {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tif (BookingService.booking) {\n\t\t\t\t\tpromise.resolve(BookingService.booking);\n\n\t\t\t\t} else if (storage.exist('booking')) {\n\t\t\t\t\tvar booking = storage.get('booking');\n\t\t\t\t\tBookingService.booking = new BookingService(booking);\n\t\t\t\t\tpromise.resolve(BookingService.booking);\n\n\t\t\t\t} else {\n\t\t\t\t\tpromise.resolve(null);\n\n\t\t\t\t\t/*\n\t\t\t\t\tApi.reserve.data().then(function(data) {\n\t\t\t\t\t\tvar booking = new BookingService(data);\n\t\t\t\t\t\tBookingService.booking = booking;\n\t\t\t\t\t\tpromise.resolve(booking);\n\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t\t});\n\t\t\t\t\t*/\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction currentOrGoTo(path) {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tBookingService.current().then(function(booking) {\n\t\t\t\t\tif (booking) {\n\t\t\t\t\t\tpromise.resolve(booking);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$location.$$lastRequestedPath = $location.path(); // $route.current.$$route.originalPath;\n\t\t\t\t\t\t$location.path(path);\n\t\t\t\t\t}\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction update() {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tif (BookingService.booking) {\n\t\t\t\t\tvar booking = BookingService.booking;\n\t\t\t\t\tstorage.set('booking', booking);\n\t\t\t\t\tpromise.resolve(booking);\n\n\t\t\t\t} else {\n\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// prototype methods\n\n\t\tfunction getProductsByCategory(category) {\n\t\t\tvar service = this;\n\t\t\treturn this.products.filter(function(x) {\n\t\t\t\treturn x.category === category.id;\n\t\t\t}).sort(function(a, b) {\n\t\t\t\tvar astr = a.name.toUpperCase();\n\t\t\t\tvar bstr = b.name.toUpperCase();\n\t\t\t\treturn (astr < bstr) ? -1 : (astr > bstr) ? 1 : 0;\n\t\t\t});\n\t\t}\n\n\t\tfunction getTimesByDaytime(daytime) {\n\t\t\tvar service = this;\n\t\t\tservice.model.daytime = daytime;\n\t\t\treturn this.times.filter(function(x) {\n\t\t\t\treturn x.daytime === daytime.id;\n\t\t\t}).map(function(x, i) {\n\t\t\t\tvar time = Object.assign({}, x);\n\t\t\t\ttime.active = i === 0;\n\t\t\t\treturn time;\n\t\t\t});\n\t\t}\n\n\t\tfunction getProductNames() {\n\t\t\tvar service = this;\n\t\t\treturn service.model.products.map(function(x) {\n\t\t\t\treturn x.name;\n\t\t\t}).join(', ');\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('CategoriesModal', ['$scope', 'State', 'View', 'Range', function($scope, State, View, Range) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar items = $scope.params ? $scope.params : [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSelect: onSelect,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelect(item) {\n\t\t\titems.forEach(function(x) {\n\t\t\t\tx.active = false;\n\t\t\t});\n\t\t\titem.active = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('CategoriesModal.onSubmit');\n\t\t\t/*\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(items);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t*/\n\t\t\tmodal.resolve(items.find(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('PlannerController', ['$scope', '$location', 'State', 'BookingService', 'View', 'Range', 'store', function($scope, $location, State, BookingService, View, Range, store) {\n\n\t\tvar state = new State();\n\n\t\tvar booking = null,\n\t\t\tmodel = null;\n\n\t\tvar plannerOptions = {\n\t\t\tonMonthDidChange: function(date, month, view) {\n\t\t\t\tconsole.log('onMonthDidChange.date', date);\n\t\t\t},\n\t\t\tonWeekDidSelect: function(week, month, view) {\n\t\t\t\tconsole.log('onWeekDidSelect.week', week);\n\t\t\t},\n\t\t\tonDayDidSelect: function(day, daytime, month, view) {\n\t\t\t\tconsole.log('onDayDidSelect.day', day, daytime, booking);\n\t\t\t\tvar times = booking.getTimesByDaytime(daytime);\n\t\t\t\t$scope.$root.addModal('timesModal', {\n\t\t\t\t\tday: day,\n\t\t\t\t\tdaytime: daytime,\n\t\t\t\t\ttimes: times,\n\n\t\t\t\t}).then(function resolve(data) {\n\t\t\t\t\tconsole.log('timesModal.resolve', data);\n\t\t\t\t\tmodel.appointment = data;\n\n\t\t\t\t}, function reject(data) {\n\t\t\t\t\tconsole.log('timesModal.reject', data);\n\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tmodel: model,\n\t\t\tplannerOptions: plannerOptions,\n\t\t\tonBack: onBack,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tBookingService.current().then(function($booking) {\n\t\t\tbooking = $booking;\n\t\t\tmodel = $booking.model;\n\t\t\t$scope.booking = booking;\n\t\t\t$scope.model = model;\n\t\t\tstate.ready();\n\n\t\t}, function(error) {\n\t\t\tstate.error(error);\n\n\t\t});\n\n\t\tfunction onBack() {\n\t\t\t$location.path('/reserve/' + store.id);\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('CalendarController.onSubmit');\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t// $location.path('/reserve/' + store.id + '/planner');\n\t\t\t\t\tstate.success();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('artisan');\n\n\tapp.directive('planner', ['$templateCache', '$parse', '$q', '$timeout', '$filter', 'Hash', 'DateTime', 'Range', 'CalendarFactory', 'State', 'Api', function($templateCache, $parse, $q, $timeout, $filter, Hash, DateTime, Range, CalendarFactory, State, Api) {\n\n\t\treturn {\n\t\t\tpriority: 1002,\n\t\t\trestrict: 'A',\n\t\t\ttemplateUrl: TemplateUrl,\n\t\t\tscope: {\n\t\t\t\toptions: '=planner',\n\t\t\t\tdaytimes: '=daytimes',\n\t\t\t},\n\t\t\tlink: Link,\n\t\t};\n\n\t\tfunction TemplateUrl(element, attributes) {\n\t\t\tvar url = attributes.template;\n\t\t\tif (!url) {\n\t\t\t\turl = 'partials/planner';\n\t\t\t\tif (!$templateCache.get(url)) {\n\t\t\t\t\t$templateCache.put(url, '<div><json-formatter json=\"options\"></json-formatter></div>');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\tfunction Link(scope, element, attributes, model, transclude) {\n\n\t\t\tvar calendar = new CalendarFactory();\n\n\t\t\tvar options = scope.options || {\n\t\t\t\tonMonthDidChange: function() {},\n\t\t\t\tonWeekDidSelect: function() {},\n\t\t\t\tonDayDidSelect: function() {},\n\t\t\t};\n\n\t\t\tvar month = Range.Month();\n\t\t\tvar week = Range.Week();\n\t\t\tvar day = Range.Day();\n\n\t\t\tvar sources = {\n\t\t\t\tmonth: month,\n\t\t\t\tweek: week,\n\t\t\t\tday: day,\n\t\t\t\tview: null,\n\t\t\t};\n\n\t\t\tvar publics = {\n\t\t\t\tsources: sources,\n\t\t\t\tdoNavWeek: doNavWeek,\n\t\t\t\tdoNavMonth: doNavMonth,\n\t\t\t\tonWeekSelect: onWeekSelect,\n\t\t\t\tonDaySelect: onDaySelect,\n\t\t\t\tgetDayClasses: getDayClasses,\n\t\t\t\thasWeeksBefore: hasWeeksBefore,\n\t\t\t};\n\n\t\t\tangular.extend(scope, publics);\n\n\t\t\t// console.log('scope', scope);\n\n\t\t\tsetWeek(); // Init\n\n\t\t\tfunction setWeek(date) {\n\t\t\t\tif (!date || week.isOutside(date)) {\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tweek.setDate(date);\n\t\t\t\t\t}\n\t\t\t\t\tonWeekChange(date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onWeekChange(date) {\n\t\t\t\tvar view = calendar.getWeekByDate(week.getDate());\n\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\tvar d = day.date.getDay();\n\t\t\t\t\tday.dirty = true;\n\t\t\t\t\tday.selected = sources.day.isCurrent(day.date);\n\t\t\t\t\tday.past = day.key < Range.today.key;\n\t\t\t\t\tday.weekend = d === 0 || d === 6;\n\t\t\t\t\tday.working = !day.weekend;\n\t\t\t\t\t// reset\n\t\t\t\t\tday.holiday = false;\n\t\t\t\t\tday.vacation = false;\n\t\t\t\t\tday.wasVacation = false;\n\t\t\t\t\tday.wasWorkable = false;\n\t\t\t\t\tday.workable = false;\n\t\t\t\t});\n\t\t\t\tsources.view = view;\n\t\t\t\t// console.log('calendarPopup.onMonthChange', view);\n\t\t\t\toptions.onMonthDidChange(date, month, view);\n\t\t\t}\n\n\t\t\t// setMonth(); // Init\n\n\t\t\tfunction setMonth(date) {\n\t\t\t\tif (!date || month.isOutside(date)) {\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tmonth.setDate(date);\n\t\t\t\t\t}\n\t\t\t\t\tonMonthChange(date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMonthChange(date) {\n\t\t\t\tvar view = calendar.getMonthByDate(month.getDate());\n\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\tvar d = day.date.getDay();\n\t\t\t\t\tday.dirty = true;\n\t\t\t\t\tday.hours = 0;\n\t\t\t\t\tday.availableHours = 0;\n\t\t\t\t\tday.recordedHours = 0;\n\t\t\t\t\tday.selected = sources.day.isCurrent(day.date);\n\t\t\t\t\tday.past = day.key < Range.today.key;\n\t\t\t\t\tday.weekend = d === 0 || d === 6;\n\t\t\t\t\tday.working = !day.weekend;\n\t\t\t\t\t// reset\n\t\t\t\t\tday.holiday = false;\n\t\t\t\t\tday.vacation = false;\n\t\t\t\t\tday.wasVacation = false;\n\t\t\t\t\tday.wasWorkable = false;\n\t\t\t\t\tday.workable = false;\n\t\t\t\t\tday.green = false;\n\t\t\t\t\tday.orange = false;\n\t\t\t\t});\n\t\t\t\tsources.view = view;\n\t\t\t\t// console.log('calendarPopup.onMonthChange', view);\n\t\t\t\toptions.onMonthDidChange(date, month, view);\n\t\t\t}\n\n\t\t\tfunction onWeekSelect(week) {\n\t\t\t\t// console.log('onWeekSelect', week);\n\t\t\t\tif (!week) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (options.onWeekDidSelect(week, month, sources.view) === true) {\n\t\t\t\t\t// sources.week.setDate(week.date);\n\t\t\t\t\t// updateSelections();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onDaySelect(day, daytime) {\n\t\t\t\t// console.log('onDaySelect', day);\n\t\t\t\tif (!day) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (options.onDayDidSelect(day, daytime, month, sources.view) === true) {\n\t\t\t\t\tsources.day.setDate(day.date);\n\t\t\t\t\tupdateSelections();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction updateSelections() {\n\t\t\t\tvar view = sources.view;\n\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\tday.selected = sources.day.isCurrent(day.date);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction doNavWeek(dir) {\n\t\t\t\t// console.log('doNavWeek', dir);\n\t\t\t\tsetWeek(week.getDate(dir));\n\t\t\t}\n\n\t\t\tfunction doNavMonth(dir) {\n\t\t\t\t// console.log('doNavMonth', dir);\n\t\t\t\tsetMonth(month.getDate(dir));\n\t\t\t}\n\n\t\t\tfunction getDayClasses(day) {\n\t\t\t\tvar classes = {\n\t\t\t\t\t'day': day,\n\t\t\t\t};\n\t\t\t\tif (day) {\n\t\t\t\t\tangular.extend(classes, {\n\t\t\t\t\t\t'today': day.$today,\n\t\t\t\t\t\t'selected': day.selected,\n\t\t\t\t\t\t'workable': day.workable,\n\t\t\t\t\t\t'holiday': day.holiday,\n\t\t\t\t\t\t'vacation': day.vacation,\n\t\t\t\t\t\t'working': day.working,\n\t\t\t\t\t\t'available': day.available,\n\t\t\t\t\t\t'full': day.full,\n\t\t\t\t\t\t'status-green': day.green,\n\t\t\t\t\t\t'status-orange': day.orange,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn classes;\n\t\t\t}\n\n\t\t\tfunction hasWeeksBefore() {\n\t\t\t\treturn !week.isCurrent(day.date);\n\t\t\t}\n\n\t\t}\n\n    }]);\n\n\tapp.filter('capitalize', function() {\n\t\treturn function(input) {\n\t\t\treturn (!!input) ? input.charAt(0).toUpperCase() + input.substr(1).toLowerCase() : '';\n\t\t};\n\t});\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ProductsModal', ['$scope', 'State', 'View', 'Range', function($scope, State, View, Range) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar items = $scope.params ? $scope.params : [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ProductsModal.onSubmit');\n\t\t\t/*\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(items);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t*/\n\t\t\tmodal.resolve(items.filter(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ReserveController', ['$scope', '$location', 'State', 'BookingService', 'View', 'Range', 'store', function($scope, $location, State, BookingService, View, Range, store) {\n\n\t\tvar state = new State();\n\n\t\tvar booking = null,\n\t\t\tmodel = null;\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tmodel: model,\n\t\t\tonSelectCategory: onSelectCategory,\n\t\t\tonSelectProduct: onSelectProduct,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tBookingService.new().then(function($booking) {\n\t\t\tbooking = $booking;\n\t\t\tmodel = $booking.model;\n\t\t\t$scope.booking = booking;\n\t\t\t$scope.model = model;\n\t\t\tstate.ready();\n\n\t\t}, function(error) {\n\t\t\tstate.error(error);\n\n\t\t});\n\n\t\tfunction onSelectCategory() {\n\t\t\tconsole.log('ReserveController.onSelectCategory');\n\t\t\t$scope.$root.addModal('categoriesModal', booking.categories).then(function resolve(data) {\n\t\t\t\tconsole.log('categoriesModal.resolve', data);\n\t\t\t\tmodel.category = data;\n\t\t\t\tmodel.products = null;\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('categoriesModal.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onSelectProduct() {\n\t\t\tconsole.log('ReserveController.onSelectProduct');\n\t\t\tvar products = booking.getProductsByCategory(model.category);\n\t\t\t$scope.$root.addModal('productsModal', products).then(function resolve(data) {\n\t\t\t\tconsole.log('productsModal.resolve', data);\n\t\t\t\tmodel.products = data;\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('productsModal.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ReserveController.onSubmit');\n\t\t\tif (state.busy()) {\n\t\t\t\tBookingService.update(booking).then(function(booking) {\n\t\t\t\t\t$location.path('/reserve/' + store.id + '/planner');\n\t\t\t\t\tstate.success();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('TimesModal', ['$scope', 'State', 'View', 'Range', function($scope, State, View, Range) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar params = $scope.params ? $scope.params : {};\n\t\tvar items = params.times || [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSelect: onSelect,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelect(item) {\n\t\t\titems.forEach(function(x) {\n\t\t\t\tx.active = false;\n\t\t\t});\n\t\t\titem.active = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('TimeModal.onSubmit');\n\t\t\t/*\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(items);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t*/\n\t\t\tmodal.resolve(items.find(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ContactUsCtrl', ['$scope', 'State', 'View', 'Api', function($scope, State, View, Api) {\n\n\t\tvar state = new State();\n\t\tvar state2 = new State();\n\t\tvar googlemaps = {};\n\t\tvar mapbox = {};\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstate2: state2,\n\t\t\tgooglemaps: googlemaps,\n\t\t\tmapbox: mapbox,\n\t\t};\n\n\t\tObject.assign($scope, publics); // todo\n\n\t\tView.current().then(function(view) {\n\t\t\t$scope.view = view;\n\t\t\tstate.ready();\n\n\t\t}, function(error) {\n\t\t\tstate.error(error);\n\n\t\t});\n\n\t\tApi.maps.markers().then(function(items) {\n\t\t\tgooglemaps.setMarkers(items);\n\t\t\tmapbox.setMarkers(items);\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('RootCtrl', ['$scope', '$timeout', '$promise', 'Nav', 'Api', 'Range', 'Scrollable', 'AuthService', function($scope, $timeout, $promise, Nav, Api, Range, Scrollable, AuthService) {\n\n\t\tvar nav = new Nav({\n\t\t\tonPath: onPath,\n\t\t\tonNav: onNav,\n\t\t});\n\n\t\tApi.navs.main().then(function(items) {\n\t\t\tnav.setItems(items);\n\n\t\t}, function(error) {\n\t\t\tconsole.log('RootCtrl.error', error);\n\n\t\t});\n\n\t\tfunction onPath(item) {\n\t\t\tvar path = item.path;\n\t\t\t// console.log('RootCtrl.onPath', item.$nav.level, path);\n\t\t\treturn path;\n\t\t}\n\n\t\tfunction onNav(item) {\n\t\t\t// console.log('RootCtrl.onNav', item.$nav.level, item.$nav.path);\n\t\t\tNav.path(item.$nav.path);\n\t\t\treturn false; // returning false disable default link behaviour;\n\t\t}\n\n\t\tfunction onNavPromise(item) {\n\t\t\t$scope.selected = item;\n\t\t\treturn $promise(function(promise) {\n\t\t\t\t// console.log('RootCtrl.onNavPromise', item.$nav.level, item.$nav.path);\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tif (item.items) {\n\t\t\t\t\t\titem.$nav.addItems({\n\t\t\t\t\t\t\tname: \"Item\",\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tpromise.resolve();\n\t\t\t\t});\n\t\t\t}); // a promise always disable default link behaviour;\n\t\t}\n\n\t\t$scope.nav = nav;\n\n\t\t////////////\n\n\t\tvar scrollable = new Scrollable();\n\n\t\t$scope.scrollable = scrollable;\n\n\t\t/*\n\t\tvar year = Range.Year();\n\t\tvar semester = Range.Semester();\n\t\tvar trimester = Range.Trimester();\n\t\tvar quarter = Range.Quarter();\n\t\tvar month = Range.Month();\n\t\tvar week = Range.Week();\n\t\tvar day = Range.Day();\n\n\t\tvar ranges = {\n\t\t\tyear: year,\n\t\t\tsemester: semester,\n\t\t\ttrimester: trimester,\n\t\t\tquarter: quarter,\n\t\t\tmonth: month,\n\t\t\tweek: week,\n\t\t\tday: day,\n\t\t};\n\t\t*/\n\n\t\t/*\n\t\tangular.forEach(ranges, function(range) {\n\t\t    console.log(range.toString());\n\t\t});\n\t\t*/\n\n\t\t/*\n\t\t$scope.ranges = ranges;\n\t\t*/\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('environment', {\n\t\t\thttp: {\n\t\t\t\tinterceptors: [], // ['AuthService'],\n\t\t\t\twithCredentials: false,\n\t\t\t},\n\t\t\tlanguage: {\n\t\t\t\tcode: 'en',\n\t\t\t\tculture: 'en_US',\n\t\t\t\tiso: 'ENU',\n\t\t\t\tname: 'English',\n\t\t\t},\n\t\t\tlocation: {\n\t\t\t\thash: '!',\n\t\t\t\thtml5: false,\n\t\t\t},\n\t\t\tplugins: {\n\t\t\t\tfacebook: {\n\t\t\t\t\tappId: 340008479796111,\n\t\t\t\t\tfields: 'id,name,first_name,last_name,email,gender,picture,cover,link',\n\t\t\t\t\tscope: 'public_profile, email', // publish_stream\n\t\t\t\t\tversion: 'v2.10',\n\t\t\t\t},\n\t\t\t\tgoogle: {\n\t\t\t\t\tapiKey: 'AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U',\n\t\t\t\t\tclientId: '1063539520533-7308vqmt92em6dv1v5q52fq2or36jk95.apps.googleusercontent.com',\n\t\t\t\t},\n\t\t\t\tgooglemaps: {\n\t\t\t\t\tapiKey: 'AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U',\n\t\t\t\t\tstyles: '/googlemaps/applemapesque.json',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tcenter: {\n\t\t\t\t\t\t\tlat: 43.9023386, // latitude\n\t\t\t\t\t\t\tlng: 12.8505094, // longitude\n\t\t\t\t\t\t},\n\t\t\t\t\t\tzoom: 4.0,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmapbox: {\n\t\t\t\t\taccessToken: 'pk.eyJ1IjoiYWN0YXJpYW4iLCJhIjoiY2lqNWU3MnBzMDAyZndnbTM1cjMyd2N2MiJ9.CbuEGSvOAfIYggQv854pRQ',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tcenter: [\n                            12.8505094, // longitude\n                            43.9023386, // latitude\n                        ],\n\t\t\t\t\t\tzoom: 4.0,\n\t\t\t\t\t},\n\t\t\t\t\tstyle: 'mapbox://styles/actarian/cja82nadj07sn2rmty6n1n5pk',\n\t\t\t\t\tversion: 'v0.42.0',\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('local', {\n\t\t\tpaths: {\n\t\t\t\tapi: 'http://localhost:6001/api',\n\t\t\t\tapp: 'http://localhost:6001',\n\t\t\t},\n\t\t\tplugins: {\n\t\t\t\tfacebook: {\n\t\t\t\t\tappId: 340008479796111,\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('production', {\n\t\t\tpaths: {\n\t\t\t\tapi: 'https://actarian.github.io/artisan/api',\n\t\t\t\tapp: 'https://actarian.github.io/artisan',\n\t\t\t},\n\t\t\tplugins: {\n\t\t\t\tfacebook: {\n\t\t\t\t\tappId: 156171878319496,\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('stage', {\n\t\t\t//\n\t\t});\n\n    }]);\n\n}());\n"]}