{"version":3,"sources":["docs/js/app.js"],"names":["angular","module","config","$locationProvider","$routeProvider","when","templateUrl","controller","resolve","store","$route","Api","getById","current","params","storeId","booking","BookingService","currentOrGoTo","StoreService","otherwise","$modalProvider","title","customClass","service","Http","api","data","get","getDetailById","reserve","days","from","to","Object","assign","this","run","$rootScope","$modal","Router","Trust","modals","addModal","router","trust","$scope","publics","hasHash","hash","window","location","indexOf","then","error","console","log","app","DefaultBookingService","categories","products","daytimes","model","category","date","daytime","time","factory","$promise","$location","DateTime","storage","environment","options","active","emptyDaytimes","getEmptyDaytimes","statics","new","promise","reject","exist","path","$$lastRequestedPath","update","set","getProductsByCategory","filter","x","id","sort","a","b","astr","name","toUpperCase","bstr","getTimesByDaytime","times","map","i","getDaysByRange","getDaysPoolByRange","forEach","day","Date","setDate","getDate","pool","key","dateToKey","getProductNames","join","prototype","State","state","modal","onSubmit","busy","setTimeout","success","onCancel","ready","View","Range","onStoreChange","onStoreReserve","items","onSelect","item","find","$timeout","onBack","user","onCancelReservation","$root","onEditUserData","directive","$templateCache","$parse","$q","$filter","Hash","PlannerFactory","priority","restrict","element","attributes","url","template","put","scope","link","transclude","planner","onWeekDidChange","onWeekDidSelect","onDayDidSelect","month","Month","week","Week","Day","sources","view","doNavWeek","dir","setWeek","onWeekSelect","onDaySelect","each","selected","isCurrent","getDayClasses","classes","extend","today","$today","workable","holiday","vacation","working","available","full","status-green","green","status-orange","orange","hasWeeksBefore","isOutside","getWeekByDate","d","getDay","dirty","past","weekend","wasVacation","wasWorkable","input","charAt","substr","toLowerCase","onSelectCategory","onSelectProduct","$booking","plannerOptions","poolDay","closingDay","keys","Calendar","weeks","clearMonth","hours","tasks","getKey","getWeeks","num","calendar","removeAll","months","setFullYear","getFullYear","setMonth","getMonth","setHours","setMinutes","setSeconds","getWeek","yyyy","MM","diff","weekDate","isoWeek","dKey","wKey","mKey","Array","fill","o","dayDate","c","add","anticipations","source","years","year","toString","concat","apply","extraClosures","slice","description","getDaytimeById","onDeleteItemAtIndex","index","splice","closure","Math","floor","random","push","notices","onSelectAll","onDeselectAll","onSelectNotice","notice","onSelectAnticipation","anticipation","dayHasTime","onDayTimeDidChange","copy","nid","aid","deepCopy","environmentProvider","http","interceptors","withCredentials","language","code","culture","iso","html5","plugins","facebook","appId","fields","version","google","apiKey","clientId","googlemaps","styles","center","lat","lng","zoom","mapbox","accessToken","style","paths"],"mappings":"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","file":"app.min.js","sourcesContent":["/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app', ['ngSanitize', 'artisan', 'jsonFormatter']);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['$locationProvider', '$routeProvider', function($locationProvider, $routeProvider) {\n\t\t// HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\n\t\t// $locationProvider.html5Mode(false);\n\t\t//$locationProvider.hashPrefix(''); /* Back to default: fix ancore sulla stessa pagina https://www.eatalyworld.it/it/chi-siamo/chi-siamo */\n\n\t\t// RESERVE\n\t\t$routeProvider.when('/reserve', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/reserve.html';\n\t\t\t},\n\t\t\tcontroller: 'ReserveController',\n\t\t\tresolve: {\n\t\t\t\tstore: function() { return null; },\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/reserve.html';\n\t\t\t},\n\t\t\tcontroller: 'ReserveController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId/planner', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/planner.html';\n\t\t\t},\n\t\t\tcontroller: 'PlannerController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t\tbooking: ['BookingService', function(BookingService) {\n\t\t\t\t\treturn BookingService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId/confirm', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/confirm.html';\n\t\t\t},\n\t\t\tcontroller: 'ConfirmController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t\tbooking: ['BookingService', function(BookingService) {\n\t\t\t\t\treturn BookingService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId/confirmed', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/confirmed.html';\n\t\t\t},\n\t\t\tcontroller: 'ConfirmedController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t\tbooking: ['BookingService', function(BookingService) {\n\t\t\t\t\treturn BookingService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t}).when('/reserve/:storeId/canceled', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/reserve/canceled.html';\n\t\t\t},\n\t\t\tcontroller: 'CanceledController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['$route', 'Api', function($route, Api) {\n\t\t\t\t\treturn Api.store.getById($route.current.params.storeId);\n\t\t\t\t}],\n\t\t\t\tbooking: ['BookingService', function(BookingService) {\n\t\t\t\t\treturn BookingService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t\t// STORE\n\t\t}).when('/store/reserve-options', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/store/reserve-options.html';\n\t\t\t},\n\t\t\tcontroller: 'ReserveOptionsController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['StoreService', function(StoreService) {\n\t\t\t\t\treturn StoreService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t}).when('/store/extra-closures', {\n\t\t\ttemplateUrl: function() {\n\t\t\t\treturn 'views/store/extra-closures.html';\n\t\t\t},\n\t\t\tcontroller: 'ExtraClosuresController',\n\t\t\tresolve: {\n\t\t\t\tstore: ['StoreService', function(StoreService) {\n\t\t\t\t\treturn StoreService.currentOrGoTo('/');\n\t\t\t\t}]\n\t\t\t},\n\n\t\t});\n\n\t\t$routeProvider.otherwise('/reserve/1');\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['$modalProvider', function($modalProvider) {\n\n\t\t// RESERVE\n\t\t$modalProvider.when('categoriesModal', {\n\t\t\ttitle: 'Categories modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/categories.html',\n\t\t\tcontroller: 'CategoriesModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('productsModal', {\n\t\t\ttitle: 'Products modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/products.html',\n\t\t\tcontroller: 'ProductsModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('timesModal', {\n\t\t\ttitle: 'Times modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/times.html',\n\t\t\tcontroller: 'TimesModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('editModal', {\n\t\t\ttitle: 'Edit modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/edit.html',\n\t\t\tcontroller: 'EditModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('cancelModal', {\n\t\t\ttitle: 'Cancel modal',\n\t\t\ttemplateUrl: 'views/reserve/modals/cancel.html',\n\t\t\tcontroller: 'CancelModal',\n\t\t\tcustomClass: '',\n\n\t\t\t// STORE\n\t\t}).when('noticeModal', {\n\t\t\ttitle: 'Notice modal',\n\t\t\ttemplateUrl: 'views/store/modals/notice.html',\n\t\t\tcontroller: 'NoticeModal',\n\t\t\tcustomClass: '',\n\n\t\t}).when('anticipationModal', {\n\t\t\ttitle: 'Anticipation modal',\n\t\t\ttemplateUrl: 'views/store/modals/anticipation.html',\n\t\t\tcontroller: 'AnticipationModal',\n\t\t\tcustomClass: '',\n\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.service('Api', ['Http', function(Http) {\n\n\t\tvar api = {\n\t\t\tstore: {\n\t\t\t\tdata: function(storeId) {\n\t\t\t\t\treturn Http.get('/store/store.data.json');\n\t\t\t\t},\n\t\t\t\tgetById: function(storeId) {\n\t\t\t\t\treturn Http.get('/store/store.json');\n\t\t\t\t},\n\t\t\t\tgetDetailById: function(storeId) {\n\t\t\t\t\treturn Http.get('/store/store.detail.json');\n\t\t\t\t},\n\t\t\t},\n\t\t\treserve: {\n\t\t\t\tdata: function(storeId) {\n\t\t\t\t\treturn Http.get('/reserve/reserve.data.json');\n\t\t\t\t},\n\t\t\t\tdays: function(storeId, from, to) {\n\t\t\t\t\treturn Http.get('/reserve/days.json', { from: from, to: to });\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\n\t\tObject.assign(this, api);\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\t// app.run(['$rootScope', 'Router', 'Trust', 'Bearer', 'FacebookService', 'GoogleService', function($rootScope, Router, Trust, Bearer, FacebookService, GoogleService) {\n\tapp.run(['$rootScope', '$modal', 'Router', 'Trust', function($rootScope, $modal, Router, Trust) {\n\n\t\t$rootScope.modals = $modal.modals;\n\t\t$rootScope.addModal = $modal.addModal;\n\n\t\t$rootScope.router = Router;\n\t\t$rootScope.trust = Trust;\n\n\t\t/*\n\t\tFacebookService.require();\n\t\tGoogleService.require();\n\t\t*/\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('RootCtrl', ['$scope', 'StoreService', function($scope, StoreService) {\n\n\t\tvar publics = {\n\t\t\thasHash: hasHash,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tfunction hasHash(hash) {\n\t\t\treturn window.location.hash.indexOf(hash) !== -1;\n\t\t}\n\n\t\tStoreService.current().then(function(store) {\n\t\t\t$scope.store = store;\n\n\t\t}, function(error) {\n\t\t\tconsole.log('RootCtrl', error);\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tvar DefaultBookingService = {\n\t\tstore: null,\n\t\tcategories: [],\n\t\tproducts: [],\n\t\tdaytimes: [],\n\t\tmodel: {\n\t\t\tstore: null,\n\t\t\tcategory: null,\n\t\t\tproducts: null,\n\t\t\tdate: null,\n\t\t\tdaytime: null,\n\t\t\ttime: null,\n\t\t},\n\t};\n\n\tapp.factory('BookingService', ['$promise', '$location', 'DateTime', 'Api', 'SessionStorage', 'environment', function($promise, $location, DateTime, Api, storage, environment) {\n\n\t\tfunction BookingService(options) {\n\t\t\tObject.assign(this, DefaultBookingService);\n\t\t\tif (options) {\n\t\t\t\tObject.assign(this, options);\n\t\t\t\tthis.model.store = options.store;\n\t\t\t\tthis.model.category = options.categories[0];\n\t\t\t\tthis.model.category.active = true;\n\t\t\t\tthis.emptyDaytimes = this.getEmptyDaytimes();\n\t\t\t}\n\t\t}\n\n\t\tvar statics = {\n\t\t\tnew: newBooking,\n\t\t\tcurrent: getCurrent,\n\t\t\tcurrentOrGoTo: currentOrGoTo,\n\t\t\tupdate: update,\n\t\t};\n\n\t\tvar publics = {\n\t\t\tgetProductsByCategory: getProductsByCategory,\n\t\t\tgetTimesByDaytime: getTimesByDaytime,\n\t\t\tgetDaysByRange: getDaysByRange,\n\t\t\tgetDaysPoolByRange: getDaysPoolByRange,\n\t\t\tgetEmptyDaytimes: getEmptyDaytimes,\n\t\t\tgetProductNames: getProductNames,\n\t\t};\n\n\t\tObject.assign(BookingService, statics);\n\t\tObject.assign(BookingService.prototype, publics);\n\n\t\treturn BookingService;\n\n\t\t// static methods\n\n\t\tfunction newBooking() {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tApi.reserve.data().then(function(data) {\n\t\t\t\t\tvar booking = new BookingService(data);\n\t\t\t\t\tBookingService.booking = booking;\n\t\t\t\t\tpromise.resolve(booking);\n\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction getCurrent() {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tif (BookingService.booking) {\n\t\t\t\t\tpromise.resolve(BookingService.booking);\n\n\t\t\t\t} else if (storage.exist('reserve')) {\n\t\t\t\t\tvar model = storage.get('reserve');\n\t\t\t\t\tApi.reserve.data().then(function(data) {\n\t\t\t\t\t\tvar booking = new BookingService(data);\n\t\t\t\t\t\tbooking.model = model;\n\t\t\t\t\t\tconsole.log('getting', model);\n\t\t\t\t\t\tBookingService.booking = booking;\n\t\t\t\t\t\tpromise.resolve(booking);\n\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tpromise.resolve(null);\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction currentOrGoTo(path) {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tBookingService.current().then(function(booking) {\n\t\t\t\t\tif (booking) {\n\t\t\t\t\t\tpromise.resolve(booking);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$location.$$lastRequestedPath = $location.path(); // $route.current.$$route.originalPath;\n\t\t\t\t\t\t$location.path(path);\n\t\t\t\t\t}\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction update(model) {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tif (model) {\n\t\t\t\t\tconsole.log('setting', model);\n\t\t\t\t\tstorage.set('reserve', model);\n\t\t\t\t\tpromise.resolve(model);\n\t\t\t\t} else {\n\t\t\t\t\tpromise.reject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// prototype methods\n\n\t\tfunction getProductsByCategory(category) {\n\t\t\tvar service = this;\n\t\t\treturn this.products.filter(function(x) {\n\t\t\t\treturn x.category === category.id;\n\t\t\t}).sort(function(a, b) {\n\t\t\t\tvar astr = a.name.toUpperCase();\n\t\t\t\tvar bstr = b.name.toUpperCase();\n\t\t\t\treturn (astr < bstr) ? -1 : (astr > bstr) ? 1 : 0;\n\t\t\t});\n\t\t}\n\n\t\tfunction getTimesByDaytime(daytime) {\n\t\t\tvar service = this;\n\t\t\tservice.model.daytime = daytime;\n\t\t\treturn this.times.filter(function(x) {\n\t\t\t\treturn x.daytime === daytime.id;\n\t\t\t}).map(function(x, i) {\n\t\t\t\tvar time = Object.assign({}, x);\n\t\t\t\ttime.active = i === 0;\n\t\t\t\treturn time;\n\t\t\t});\n\t\t}\n\n\t\tfunction getDaysByRange(from, to) {\n\t\t\tvar service = this;\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tApi.reserve.days(service.model.store.id, from, to).then(function(days) {\n\t\t\t\t\tpromise.resolve(days);\n\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction getDaysPoolByRange(from, to) {\n\t\t\tvar service = this;\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tservice.getDaysByRange(service.model.store.id, from, to).then(function(days) {\n\t\t\t\t\t// !!!\n\t\t\t\t\tdays.forEach(function(day, i) {\n\t\t\t\t\t\tvar date = new Date(from);\n\t\t\t\t\t\tdate.setDate(date.getDate() + i);\n\t\t\t\t\t\tday.date = date;\n\t\t\t\t\t});\n\t\t\t\t\t// !!!\n\t\t\t\t\tvar pool = {};\n\t\t\t\t\tdays.forEach(function(day) {\n\t\t\t\t\t\tday.date = new Date(day.date);\n\t\t\t\t\t\tvar key = DateTime.dateToKey(day.date);\n\t\t\t\t\t\tday.daytimes = {};\n\t\t\t\t\t\tservice.daytimes.forEach(function(daytime) {\n\t\t\t\t\t\t\tday.daytimes[daytime.id] = {\n\t\t\t\t\t\t\t\ttimes: day.times.filter(function(time) {\n\t\t\t\t\t\t\t\t\treturn time.daytime === daytime.id;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tpool[key] = day;\n\t\t\t\t\t});\n\t\t\t\t\tpromise.resolve(pool);\n\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction getEmptyDaytimes() {\n\t\t\tvar service = this;\n\t\t\tvar emptyDaytimes = {};\n\t\t\tservice.daytimes.forEach(function(daytime) {\n\t\t\t\temptyDaytimes[daytime.id] = {\n\t\t\t\t\ttimes: []\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn emptyDaytimes;\n\t\t}\n\n\t\tfunction getProductNames() {\n\t\t\tvar service = this;\n\t\t\treturn service.model.products ? service.model.products.map(function(x) {\n\t\t\t\treturn x.name;\n\t\t\t}).join(', ') : null;\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('CancelModal', ['$scope', 'State', function($scope, State) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tonSubmit: onSubmit,\n\t\t\tonCancel: onCancel,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSubmit() {\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve();\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\n\t\tfunction onCancel() {\n\t\t\tmodal.reject();\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('CanceledController', ['$scope', '$location', 'State', 'BookingService', 'View', 'Range', 'store', 'booking', function($scope, $location, State, BookingService, View, Range, store, booking) {\n\n\t\tvar state = new State();\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tonStoreChange: onStoreChange,\n\t\t\tonStoreReserve: onStoreReserve,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onStoreChange() {\n\t\t\tconsole.log('CanceledController.onStoreChange');\n\t\t\t// $location.path('https://www.scavolini.com');\n\t\t}\n\n\t\tfunction onStoreReserve() {\n\t\t\tconsole.log('CanceledController.onStoreReserve');\n\t\t\t$location.path('/reserve/' + store.id);\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('CategoriesModal', ['$scope', 'State', 'View', 'Range', function($scope, State, View, Range) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar items = $scope.params ? $scope.params : [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSelect: onSelect,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelect(item) {\n\t\t\titems.forEach(function(x) {\n\t\t\t\tx.active = false;\n\t\t\t});\n\t\t\titem.active = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('CategoriesModal.onSubmit');\n\t\t\t/*\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(items);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t*/\n\t\t\tmodal.resolve(items.find(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ConfirmController', ['$scope', '$location', '$timeout', 'State', 'BookingService', 'View', 'Range', 'store', 'booking', function($scope, $location, $timeout, State, BookingService, View, Range, store, booking) {\n\n\t\tvar state = new State();\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tonBack: onBack,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onBack() {\n\t\t\t$location.path('/reserve/' + store.id + '/planner');\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ConfirmController.onSubmit', booking.model.user.name);\n\t\t\tif (state.busy()) {\n\t\t\t\tBookingService.update(booking.model).then(function(model) {\n\t\t\t\t\t$location.path('/reserve/' + store.id + '/confirmed');\n\t\t\t\t\tstate.success();\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tstate.ready();\n\t\t\t\t\t}, 600);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ConfirmedController', ['$scope', '$location', 'State', 'BookingService', 'View', 'Range', 'store', 'booking', function($scope, $location, State, BookingService, View, Range, store, booking) {\n\n\t\tvar state = new State();\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tonCancelReservation: onCancelReservation,\n\t\t\tonEditUserData: onEditUserData,\n\t\t\tonBack: onBack,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onCancelReservation() {\n\t\t\tconsole.log('ConfirmedController.onCancelReservation');\n\t\t\t$scope.$root.addModal('cancelModal').then(function resolve() {\n\t\t\t\t$location.path('/reserve/' + store.id + '/canceled');\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('cancelModal.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onEditUserData() {\n\t\t\tconsole.log('ConfirmedController.onEditUserData');\n\t\t\t$scope.$root.addModal('editModal', booking.model).then(function resolve(model) {\n\t\t\t\tBookingService.update(model).then(function(model) {\n\t\t\t\t\tbooking.model = model;\n\t\t\t\t});\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('editModal.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onBack() {\n\t\t\t$location.path('/reserve/' + store.id + '/confirm');\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('EditModal', ['$scope', 'State', function($scope, State) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar model = $scope.params ? $scope.params : {};\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tmodel: model,\n\t\t\tonSubmit: onSubmit,\n\t\t\tonCancel: onCancel,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('EditModal.onSubmit');\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(model);\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\n\t\tfunction onCancel() {\n\t\t\tconsole.log('EditModal.onCancel');\n\t\t\tmodal.reject();\n\t\t}\n\n\t}]);\n\n}());\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('artisan');\n\n\tapp.directive('planner', ['$templateCache', '$parse', '$q', '$timeout', '$filter', 'Hash', 'DateTime', 'Range', 'PlannerFactory', 'State', 'Api', function($templateCache, $parse, $q, $timeout, $filter, Hash, DateTime, Range, PlannerFactory, State, Api) {\n\n\t\treturn {\n\t\t\tpriority: 1002,\n\t\t\trestrict: 'A',\n\t\t\ttemplateUrl: TemplateUrl,\n\t\t\tscope: {\n\t\t\t\toptions: '=planner',\n\t\t\t\tdaytimes: '=daytimes',\n\t\t\t},\n\t\t\tlink: Link,\n\t\t};\n\n\t\tfunction TemplateUrl(element, attributes) {\n\t\t\tvar url = attributes.template;\n\t\t\tif (!url) {\n\t\t\t\turl = 'partials/planner';\n\t\t\t\tif (!$templateCache.get(url)) {\n\t\t\t\t\t$templateCache.put(url, '<div><json-formatter json=\"options\"></json-formatter></div>');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\tfunction Link(scope, element, attributes, model, transclude) {\n\n\t\t\tvar planner = new PlannerFactory();\n\n\t\t\tvar options = scope.options || {\n\t\t\t\tonWeekDidChange: function() {},\n\t\t\t\tonWeekDidSelect: function() {},\n\t\t\t\tonDayDidSelect: function() {},\n\t\t\t};\n\n\t\t\tvar month = Range.Month();\n\t\t\tvar week = Range.Week();\n\t\t\tvar day = Range.Day();\n\n\t\t\tvar sources = {\n\t\t\t\tmonth: month,\n\t\t\t\tweek: week,\n\t\t\t\tday: day,\n\t\t\t\tview: null,\n\t\t\t};\n\n\t\t\tvar publics = {\n\t\t\t\tsources: sources,\n\t\t\t\tdoNavWeek: doNavWeek,\n\t\t\t\tonWeekSelect: onWeekSelect,\n\t\t\t\tonDaySelect: onDaySelect,\n\t\t\t\tgetDayClasses: getDayClasses,\n\t\t\t\thasWeeksBefore: hasWeeksBefore,\n\t\t\t};\n\n\t\t\tangular.extend(scope, publics);\n\n\t\t\t// console.log('scope', scope);\n\n\t\t\tsetWeek(); // Init\n\n\t\t\tfunction setWeek(date) {\n\t\t\t\tif (!date || week.isOutside(date)) {\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tweek.setDate(date);\n\t\t\t\t\t}\n\t\t\t\t\tonWeekChange(date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onWeekChange(date) {\n\t\t\t\tvar view = planner.getWeekByDate(week.getDate());\n\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\tvar d = day.date.getDay();\n\t\t\t\t\tday.dirty = true;\n\t\t\t\t\tday.selected = sources.day.isCurrent(day.date);\n\t\t\t\t\tday.past = day.key < Range.today.key;\n\t\t\t\t\tday.weekend = d === 0 || d === 6;\n\t\t\t\t\tday.working = !day.weekend;\n\t\t\t\t\t// reset\n\t\t\t\t\tday.holiday = false;\n\t\t\t\t\tday.vacation = false;\n\t\t\t\t\tday.wasVacation = false;\n\t\t\t\t\tday.wasWorkable = false;\n\t\t\t\t\tday.workable = false;\n\t\t\t\t});\n\t\t\t\tsources.view = view;\n\t\t\t\toptions.onWeekDidChange(date, week, view);\n\t\t\t}\n\n\t\t\tfunction onWeekSelect(week) {\n\t\t\t\t// console.log('onWeekSelect', week);\n\t\t\t\tif (!week) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (options.onWeekDidSelect(week, month, sources.view) === true) {\n\t\t\t\t\t// sources.week.setDate(week.date);\n\t\t\t\t\t// updateSelections();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onDaySelect(day, daytime) {\n\t\t\t\t// console.log('onDaySelect', day);\n\t\t\t\tif (!day) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (options.onDayDidSelect(day, daytime, month, sources.view) === true) {\n\t\t\t\t\tsources.day.setDate(day.date);\n\t\t\t\t\tupdateSelections();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction updateSelections() {\n\t\t\t\tvar view = sources.view;\n\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\tday.selected = sources.day.isCurrent(day.date);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction doNavWeek(dir) {\n\t\t\t\t// console.log('doNavWeek', dir);\n\t\t\t\tsetWeek(week.getDate(dir));\n\t\t\t}\n\n\t\t\tfunction getDayClasses(day) {\n\t\t\t\tvar classes = {\n\t\t\t\t\t'day': day,\n\t\t\t\t};\n\t\t\t\tif (day) {\n\t\t\t\t\tangular.extend(classes, {\n\t\t\t\t\t\t'today': day.$today,\n\t\t\t\t\t\t'selected': day.selected,\n\t\t\t\t\t\t'workable': day.workable,\n\t\t\t\t\t\t'holiday': day.holiday,\n\t\t\t\t\t\t'vacation': day.vacation,\n\t\t\t\t\t\t'working': day.working,\n\t\t\t\t\t\t'available': day.available,\n\t\t\t\t\t\t'full': day.full,\n\t\t\t\t\t\t'status-green': day.green,\n\t\t\t\t\t\t'status-orange': day.orange,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn classes;\n\t\t\t}\n\n\t\t\tfunction hasWeeksBefore() {\n\t\t\t\treturn !week.isCurrent(day.date);\n\t\t\t}\n\n\t\t}\n\n    }]);\n\n\tapp.filter('capitalize', function() {\n\t\treturn function(input) {\n\t\t\treturn (!!input) ? input.charAt(0).toUpperCase() + input.substr(1).toLowerCase() : '';\n\t\t};\n\t});\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ProductsModal', ['$scope', 'State', function($scope, State) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar items = $scope.params ? $scope.params : [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ProductsModal.onSubmit');\n\t\t\t/*\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(items);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t*/\n\t\t\tmodal.resolve(items.filter(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ReserveController', ['$scope', '$location', '$timeout', 'State', 'BookingService', 'View', 'Range', 'store', function($scope, $location, $timeout, State, BookingService, View, Range, store) {\n\n\t\tvar state = new State();\n\n\t\tvar booking = null;\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tonSelectCategory: onSelectCategory,\n\t\t\tonSelectProduct: onSelectProduct,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tBookingService.new().then(function($booking) {\n\t\t\tbooking = $booking;\n\t\t\t$scope.booking = booking;\n\t\t\tstate.ready();\n\n\t\t}, function(error) {\n\t\t\tstate.error(error);\n\n\t\t});\n\n\t\tfunction onSelectCategory() {\n\t\t\tconsole.log('ReserveController.onSelectCategory');\n\t\t\t$scope.$root.addModal('categoriesModal', booking.categories).then(function resolve(data) {\n\t\t\t\tconsole.log('categoriesModal.resolve', data);\n\t\t\t\tbooking.model.category = data;\n\t\t\t\tbooking.model.products = null;\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('categoriesModal.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onSelectProduct() {\n\t\t\tconsole.log('ReserveController.onSelectProduct');\n\t\t\tvar products = booking.getProductsByCategory(booking.model.category);\n\t\t\t$scope.$root.addModal('productsModal', products).then(function resolve(data) {\n\t\t\t\tconsole.log('productsModal.resolve', data);\n\t\t\t\tbooking.model.products = data;\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('productsModal.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ReserveController.onSubmit', booking.model.products.map(function(x) { return x.name; }).join(', '));\n\t\t\tif (state.busy()) {\n\t\t\t\tBookingService.update(booking.model).then(function(model) {\n\t\t\t\t\t$location.path('/reserve/' + store.id + '/planner');\n\t\t\t\t\tstate.success();\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tstate.ready();\n\t\t\t\t\t}, 600);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('TimesModal', ['$scope', 'State', function($scope, State) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar params = $scope.params ? $scope.params : {};\n\t\tvar items = params.times || [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSelect: onSelect,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelect(item) {\n\t\t\titems.forEach(function(x) {\n\t\t\t\tx.active = false;\n\t\t\t});\n\t\t\titem.active = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('TimeModal.onSubmit');\n\t\t\t/*\n\t\t\tif (state.busy()) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tstate.success();\n\t\t\t\t\tmodal.resolve(items);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t*/\n\t\t\tmodal.resolve(items.find(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('PlannerController', ['$scope', '$location', '$timeout', 'State', 'BookingService', 'View', 'Range', 'store', 'booking', function($scope, $location, $timeout, State, BookingService, View, Range, store, booking) {\n\n\t\tvar state = new State();\n\n\t\tvar plannerOptions = {\n\t\t\tonWeekDidChange: function(date, week, view) {\n\t\t\t\t// console.log('onWeekDidChange.date', date, week, view);\n\t\t\t\tbooking.model.date = null;\n\t\t\t\tbooking.model.daytime = null;\n\t\t\t\tbooking.model.time = null;\n\t\t\t\tbooking.getDaysPoolByRange(week.from, week.to).then(function(days) {\n\t\t\t\t\t// console.log(days);\n\t\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\t\t// console.log(day.key);\n\t\t\t\t\t\tvar poolDay = days[day.key];\n\t\t\t\t\t\tif (poolDay) {\n\t\t\t\t\t\t\tday.times = poolDay.times;\n\t\t\t\t\t\t\tday.daytimes = poolDay.daytimes;\n\t\t\t\t\t\t\tday.closingDay = poolDay.closingDay;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tday.times = [];\n\t\t\t\t\t\t\tday.daytimes = booking.emptyDaytimes;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tonDayDidSelect: function(day, daytime, month, view) {\n\t\t\t\t$scope.$root.addModal('timesModal', {\n\t\t\t\t\tday: day,\n\t\t\t\t\tdaytime: daytime,\n\t\t\t\t\ttimes: daytime.times,\n\n\t\t\t\t}).then(function resolve(time) {\n\t\t\t\t\tview.days.each(function(day) {\n\t\t\t\t\t\tObject.keys(day.daytimes).forEach(function(key) {\n\t\t\t\t\t\t\tday.daytimes[key].active = false;\n\t\t\t\t\t\t\tday.daytimes[key].times.forEach(function(time) {\n\t\t\t\t\t\t\t\ttime.active = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\ttime.active = true;\n\t\t\t\t\tdaytime.active = true;\n\t\t\t\t\tdaytime.time = time;\n\t\t\t\t\tbooking.model.date = day.date;\n\t\t\t\t\tbooking.model.daytime = daytime;\n\t\t\t\t\tbooking.model.time = time;\n\n\t\t\t\t}, function reject(data) {\n\t\t\t\t\tconsole.log('timesModal.reject', data);\n\n\t\t\t\t});\n\t\t\t},\n\t\t\tonWeekDidSelect: function(week, month, view) {\n\t\t\t\tconsole.log('onWeekDidSelect.week', week);\n\t\t\t},\n\t\t};\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tbooking: booking,\n\t\t\tplannerOptions: plannerOptions,\n\t\t\tonBack: onBack,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onBack() {\n\t\t\t$location.path('/reserve/' + store.id);\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('PlannerController.onSubmit', booking.model.time.name);\n\t\t\tif (state.busy()) {\n\t\t\t\tBookingService.update(booking.model).then(function(model) {\n\t\t\t\t\t$location.path('/reserve/' + store.id + '/confirm');\n\t\t\t\t\tstate.success();\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tstate.ready();\n\t\t\t\t\t}, 600);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.factory('PlannerFactory', ['$filter', 'DateTime', 'Hash', function($filter, DateTime, Hash) {\n\n\t\tfunction Calendar() {\n\t\t\tthis.days = new Hash('key');\n\t\t\tthis.weeks = new Hash('wKey');\n\t\t}\n\n\t\tvar statics = {\n\t\t\tclearMonth: clearMonth,\n\t\t\tgetDate: getDate,\n\t\t\tgetDay: getDay,\n\t\t\tgetKey: getKey,\n\t\t};\n\n\t\tvar publics = {\n\t\t\tgetWeeks: getWeeks,\n\t\t\tgetWeek: getWeek,\n\t\t\tgetWeekByDate: getWeekByDate,\n\t\t};\n\n\t\tangular.extend(Calendar, statics);\n\t\tangular.extend(Calendar.prototype, publics);\n\n\t\treturn Calendar;\n\n\t\t// statics\n\n\t\tfunction clearMonth(month) {\n\t\t\tmonth.days.each(function(day) {\n\t\t\t\tif (day) {\n\t\t\t\t\tday.hours = 0;\n\t\t\t\t\tday.tasks = new Hash('id');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction getDate(day) {\n\t\t\tif (typeof day.date.getMonth === 'function') {\n\t\t\t\treturn day.date;\n\t\t\t} else {\n\t\t\t\treturn new Date(day.date);\n\t\t\t}\n\t\t}\n\n\t\tfunction getDay(days) {\n\t\t\tvar date = new Date(DateTime.today.date);\n\t\t\tdate.setDate(date.getDate() + days);\n\t\t\treturn date;\n\t\t}\n\n\t\tfunction getKey(date) {\n\t\t\treturn DateTime.dateToKey(date);\n\t\t}\n\n\t\t// publics\n\n\t\tfunction getWeeks(num) {\n\t\t\tvar calendar = this;\n\t\t\tcalendar.days.removeAll();\n\t\t\tcalendar.weeks.removeAll();\n\t\t\tcalendar.months.removeAll();\n\t\t\tvar i = 0;\n\t\t\twhile (i < num) {\n\t\t\t\tvar date = new Date();\n\t\t\t\tdate.setFullYear(DateTime.today.date.getFullYear());\n\t\t\t\tdate.setMonth(DateTime.today.date.getMonth() + i);\n\t\t\t\tdate.setDate(1);\n\t\t\t\tdate.setHours(0);\n\t\t\t\tdate.setMinutes(0);\n\t\t\t\tdate.setSeconds(0);\n\t\t\t\tvar week = calendar.getWeekByDate(date);\n\t\t\t\t// console.log('getWeeks', week);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\t// console.log('getWeeks', calendar.weeks);\n\t\t\treturn calendar.weeks;\n\t\t}\n\n\t\tfunction getWeek(day) {\n\t\t\tvar calendar = this;\n\t\t\tvar date = getDate(day);\n\t\t\tvar week = calendar.getWeekByDate(date);\n\t\t\treturn week;\n\t\t}\n\n\t\tfunction getWeekByDate(date) {\n\t\t\tdate = date || new Date();\n\t\t\tvar calendar = this;\n\t\t\tvar yyyy = date.getFullYear();\n\t\t\tvar MM = date.getMonth();\n\t\t\tvar day = date.getDay();\n\t\t\tvar diff = date.getDate() - day + (day === 0 ? -6 : 1);\n\t\t\tvar weekDate = new Date(date.setDate(diff));\n\t\t\tvar isoWeek = $filter('isoWeek')(date, 1);\n\t\t\tvar dKey = DateTime.dateToKey(weekDate);\n\t\t\tvar wKey = yyyy * 60 + isoWeek;\n\t\t\tvar mKey = yyyy * 12 + MM;\n\t\t\tvar week = calendar.weeks.get(wKey);\n\t\t\tif (!week) {\n\t\t\t\tvar days = new Hash('key');\n\t\t\t\tnew Array(7).fill().map(function(o, i) {\n\t\t\t\t\tvar dayDate = new Date(weekDate);\n\t\t\t\t\tdayDate.setDate(weekDate.getDate() + i);\n\t\t\t\t\tvar key = DateTime.dateToKey(dayDate);\n\t\t\t\t\tvar item = {\n\t\t\t\t\t\t$today: key === DateTime.today.key,\n\t\t\t\t\t\tc: i,\n\t\t\t\t\t\td: dayDate.getDate(),\n\t\t\t\t\t\tdate: dayDate,\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t};\n\t\t\t\t\tcalendar.days.add(item);\n\t\t\t\t\tdays.add(item);\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t\tweek = {\n\t\t\t\t\tisoWeek: isoWeek,\n\t\t\t\t\tkey: dKey,\n\t\t\t\t\twKey: wKey,\n\t\t\t\t\tmKey: mKey,\n\t\t\t\t\tdate: weekDate,\n\t\t\t\t\tdays: days,\n\t\t\t\t};\n\t\t\t\tweek = calendar.weeks.add(week);\n\t\t\t}\n\t\t\treturn week;\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('AnticipationModal', ['$scope', 'State', function($scope, State) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar params = $scope.params ? $scope.params : {};\n\t\tvar items = params.anticipations || [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSelect: onSelect,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelect(item) {\n\t\t\titems.forEach(function(x) {\n\t\t\t\tx.active = false;\n\t\t\t});\n\t\t\titem.active = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('AnticipationModal.onSubmit');\n\t\t\tmodal.resolve(items.find(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ExtraClosuresController', ['$scope', '$location', '$timeout', '$filter', 'State', 'StoreService', 'View', 'DateTime', 'Range', 'store', function($scope, $location, $timeout, $filter, State, StoreService, View, DateTime, Range, store) {\n\n\t\tvar state = new State();\n\n\t\tvar today = DateTime.today;\n\n\t\tvar source = {\n\t\t\tyears: new Array(10).fill().map(function(x, i) {\n\t\t\t\tvar year = today.date.getFullYear();\n\t\t\t\treturn { id: year + i, name: (year + i).toString() };\n\t\t\t}),\n\t\t\tmonths: new Array(12).fill().map(function(x, i) {\n\t\t\t\tvar year = today.date.getFullYear();\n\t\t\t\tvar date = new Date(year, i, 1);\n\t\t\t\treturn { id: i, name: $filter('date')(date, 'MMMM') };\n\t\t\t}),\n\t\t\tdays: new Array(31).fill().map(function(x, i) {\n\t\t\t\treturn { id: (i + 1), name: (i + 1).toString() };\n\t\t\t}),\n\t\t\tdaytimes: [].concat.apply([\n\t\t\t\t{ id: 0, name: 'Tutto il giorno' }\n\t\t\t], store.daytimes.map(function(daytime) {\n\t\t\t\treturn [{ id: daytime.id, name: daytime.name }];\n\t\t\t})),\n\t\t\textraClosures: store.extraClosures.slice()\n\t\t};\n\n\t\tvar model = {\n\t\t\tyear: source.years[0],\n\t\t\tmonth: source.months[0],\n\t\t\tday: source.days[0],\n\t\t\tdaytime: source.daytimes[0],\n\t\t\tdescription: null,\n\t\t};\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tsource: source,\n\t\t\tmodel: model,\n\t\t\tgetDaytimeById: getDaytimeById,\n\t\t\tonDeleteItemAtIndex: onDeleteItemAtIndex,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction getDaytimeById(id) {\n\t\t\treturn source.daytimes.find(function(x) { return x.id === id; });\n\t\t}\n\n\t\tfunction onDeleteItemAtIndex(item, index) {\n\t\t\tif (state.busy()) {\n\t\t\t\tstore.extraClosures.splice(index, 1);\n\t\t\t\tStoreService.update(store).then(\n\t\t\t\t\tfunction(store) {\n\t\t\t\t\t\tsource.extraClosures.splice(index, 1);\n\t\t\t\t\t\tstate.success();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\tstate.ready();\n\t\t\t\t\t\t}, 600);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ExtraClosuresController.onSubmit');\n\t\t\tif (state.busy()) {\n\t\t\t\tvar closure = {\n\t\t\t\t\tid: Math.floor(Math.random() * 10000),\n\t\t\t\t\tdate: new Date(model.year.id, model.month.id, model.day.id),\n\t\t\t\t\tdaytime: model.daytime.id,\n\t\t\t\t\tdescription: model.description,\n\t\t\t\t};\n\t\t\t\tstore.extraClosures.push(closure);\n\t\t\t\tStoreService.update(store).then(\n\t\t\t\t\tfunction(store) {\n\t\t\t\t\t\tsource.extraClosures.push(closure);\n\t\t\t\t\t\tmodel = $scope.model = {\n\t\t\t\t\t\t\tyear: source.years[0],\n\t\t\t\t\t\t\tmonth: source.months[0],\n\t\t\t\t\t\t\tday: source.days[0],\n\t\t\t\t\t\t\tdaytime: source.daytimes[0],\n\t\t\t\t\t\t\tdescription: null,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tstate.success();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\tstate.ready();\n\t\t\t\t\t\t}, 600);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('NoticeModal', ['$scope', 'State', function($scope, State) {\n\n\t\tvar state = new State();\n\n\t\tvar modal = $scope.modal;\n\n\t\tvar params = $scope.params ? $scope.params : {};\n\t\tvar items = params.notices || [];\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\titems: items,\n\t\t\tonSelect: onSelect,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelect(item) {\n\t\t\titems.forEach(function(x) {\n\t\t\t\tx.active = false;\n\t\t\t});\n\t\t\titem.active = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('NoticeModal.onSubmit');\n\t\t\tmodal.resolve(items.find(function(x) {\n\t\t\t\treturn x.active;\n\t\t\t}));\n\t\t}\n\n\t}]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.controller('ReserveOptionsController', ['$scope', '$location', '$timeout', 'State', 'StoreService', 'View', 'Range', 'store', function($scope, $location, $timeout, State, StoreService, View, Range, store) {\n\n\t\tvar state = new State();\n\n\t\tvar model = new StoreService(store);\n\n\t\tvar publics = {\n\t\t\tstate: state,\n\t\t\tstore: store,\n\t\t\tmodel: model,\n\t\t\tonSelectAll: onSelectAll,\n\t\t\tonDeselectAll: onDeselectAll,\n\t\t\tonSelectNotice: onSelectNotice,\n\t\t\tonSelectAnticipation: onSelectAnticipation,\n\t\t\tdayHasTime: dayHasTime,\n\t\t\tonDayTimeDidChange: onDayTimeDidChange,\n\t\t\tonSubmit: onSubmit,\n\t\t};\n\n\t\tObject.assign($scope, publics);\n\n\t\tstate.ready();\n\n\t\tfunction onSelectAll() {\n\t\t\tmodel.days.forEach(function(day) {\n\t\t\t\tday.times = [].concat.apply([], model.daytimes.map(function(daytime) {\n\t\t\t\t\treturn daytime.times.map(function(time) {\n\t\t\t\t\t\treturn time.id;\n\t\t\t\t\t});\n\t\t\t\t}));\n\t\t\t});\n\t\t\tstate.dirty = true;\n\t\t}\n\n\t\tfunction onDeselectAll() {\n\t\t\tmodel.days.forEach(function(day) {\n\t\t\t\tday.times = [];\n\t\t\t});\n\t\t\tstate.dirty = true;\n\t\t}\n\n\t\tfunction onSelectNotice() {\n\t\t\tconsole.log('ReserveOptionsController.onSelectNotice');\n\t\t\t$scope.$root.addModal('noticeModal', model).then(function resolve(data) {\n\t\t\t\tconsole.log('ReserveOptionsController.resolve', data);\n\t\t\t\tmodel.notice = data;\n\t\t\t\tstate.dirty = true;\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('ReserveOptionsController.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction onSelectAnticipation() {\n\t\t\tconsole.log('ReserveOptionsController.onSelectAnticipation');\n\t\t\t$scope.$root.addModal('anticipationModal', model).then(function resolve(data) {\n\t\t\t\tconsole.log('ReserveOptionsController.resolve', data);\n\t\t\t\tmodel.anticipation = data;\n\t\t\t\tstate.dirty = true;\n\n\t\t\t}, function reject(data) {\n\t\t\t\tconsole.log('ReserveOptionsController.reject', data);\n\n\t\t\t});\n\t\t}\n\n\t\tfunction dayHasTime(day, time) {\n\t\t\treturn day.times.indexOf(time.id) !== -1;\n\t\t}\n\n\t\tfunction onDayTimeDidChange(day, time) {\n\t\t\tvar i = day.times.indexOf(time.id);\n\t\t\tif (i !== -1) {\n\t\t\t\tday.times.splice(i, 1);\n\t\t\t} else {\n\t\t\t\tday.times.push(time.id);\n\t\t\t}\n\t\t\tstate.dirty = true;\n\t\t}\n\n\t\tfunction onSubmit() {\n\t\t\tconsole.log('ReserveOptionsController.onSubmit');\n\t\t\tif (state.busy()) {\n\t\t\t\tStoreService.update(model).then(\n\t\t\t\t\tfunction(model) {\n\t\t\t\t\t\tstate.success();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\tstate.ready();\n\t\t\t\t\t\t}, 600);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.factory('StoreService', ['$promise', '$location', 'DateTime', 'Api', 'SessionStorage', 'environment', function($promise, $location, DateTime, Api, storage, environment) {\n\n\t\tfunction StoreService(options) {\n\t\t\tvar notices = new Array(15).fill(null).map(function(x, i) {\n\t\t\t\treturn { id: i + 1, name: (i + 1).toString() + ' gg' };\n\t\t\t});\n\t\t\tvar anticipations = new Array(12).fill(null).map(function(x, i) {\n\t\t\t\treturn { id: i + 1, name: (30 + i * 30).toString() + ' gg' };\n\t\t\t});\n\t\t\tif (options) {\n\t\t\t\toptions = angular.copy(options);\n\t\t\t\tObject.assign(this, options);\n\t\t\t\tthis.days.forEach(function(day) {\n\t\t\t\t\tvar date = new Date();\n\t\t\t\t\tvar d = date.getDay();\n\t\t\t\t\tvar diff = date.getDate() - d + day.day; // + (d === 0 ? -6 : 1); // adjust when day is sunday\n\t\t\t\t\tdate = new Date(date.setDate(diff));\n\t\t\t\t\tday.date = date;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.notice) {\n\t\t\t\tvar nid = this.notice.id;\n\t\t\t\tvar notice = notices.find(function(x) {\n\t\t\t\t\treturn x.id === nid;\n\t\t\t\t});\n\t\t\t\tif (notice) {\n\t\t\t\t\tnotice.active = true;\n\t\t\t\t\tthis.notice = notice;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.anticipation) {\n\t\t\t\tvar aid = this.anticipation.id;\n\t\t\t\tvar anticipation = anticipations.find(function(x) {\n\t\t\t\t\treturn x.id === aid;\n\t\t\t\t});\n\t\t\t\tif (anticipation) {\n\t\t\t\t\tanticipation.active = true;\n\t\t\t\t\tthis.anticipation = anticipation;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.notices = notices;\n\t\t\tthis.anticipations = anticipations;\n\t\t}\n\n\t\tvar statics = {\n\t\t\tcurrent: getCurrent,\n\t\t\tcurrentOrGoTo: currentOrGoTo,\n\t\t\tupdate: update,\n\t\t};\n\n\t\tvar publics = {\n\t\t\tdeepCopy: deepCopy,\n\t\t};\n\n\t\tObject.assign(StoreService, statics);\n\t\tObject.assign(StoreService.prototype, publics);\n\n\t\treturn StoreService;\n\n\t\t// static methods\n\n\t\tfunction getCurrent() {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tif (StoreService.store) {\n\t\t\t\t\tpromise.resolve(StoreService.store);\n\n\t\t\t\t} else if (storage.exist('store')) {\n\t\t\t\t\tvar store = storage.get('store');\n\t\t\t\t\tstore = new StoreService(store);\n\t\t\t\t\tStoreService.store = store;\n\t\t\t\t\tpromise.resolve(store);\n\n\t\t\t\t} else {\n\t\t\t\t\tApi.store.data().then(function(data) {\n\t\t\t\t\t\tvar store = new StoreService(data);\n\t\t\t\t\t\tStoreService.store = store;\n\t\t\t\t\t\tpromise.resolve(store);\n\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\tpromise.reject(error);\n\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction currentOrGoTo(path) {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tStoreService.current().then(function(store) {\n\t\t\t\t\tif (store) {\n\t\t\t\t\t\tpromise.resolve(store);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$location.$$lastRequestedPath = $location.path(); // $route.current.$$route.originalPath;\n\t\t\t\t\t\t$location.path(path);\n\t\t\t\t\t}\n\t\t\t\t}, function(error) {\n\t\t\t\t\tpromise.reject(error);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction update(model) {\n\t\t\treturn $promise(function(promise) {\n\t\t\t\tif (model) {\n\t\t\t\t\tstorage.set('store', model);\n\t\t\t\t\tpromise.resolve(model);\n\t\t\t\t} else {\n\t\t\t\t\tpromise.reject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction cloneObject() {\n\t\t\tvar options, name, src, copy, copyIsArray, clone, target = arguments[0] || {},\n\t\t\t\ti = 1,\n\t\t\t\tlength = arguments.length,\n\t\t\t\tdeep = false;\n\t\t\tif (typeof target === 'boolean') {\n\t\t\t\tdeep = target;\n\t\t\t\ttarget = arguments[i] || {};\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (typeof target !== 'object' && typeof target !== 'function') {\n\t\t\t\ttarget = {};\n\t\t\t}\n\t\t\tif (i === length) {\n\t\t\t\ttarget = this;\n\t\t\t\ti--;\n\t\t\t}\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tif ((options = arguments[i])) {\n\t\t\t\t\tfor (name in options) {\n\t\t\t\t\t\tcopy = options[name];\n\t\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (deep && copy && (typeof copy === 'object' || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\t\t\tsrc = target[name];\n\t\t\t\t\t\t\tif (copyIsArray && !Array.isArray(src)) {\n\t\t\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\t\t} else if (!copyIsArray && typeof(src) !== 'object') {\n\t\t\t\t\t\t\t\tclone = {};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclone = src;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\ttarget[name] = cloneObject(deep, clone, copy);\n\t\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn target;\n\t\t}\n\n\t\t// prototype methods\n\n\t\tfunction deepCopy() {\n\t\t\tvar copy = angular.copy(this); // cloneObject(true, this, {});\n\t\t\treturn new StoreService(copy);\n\t\t}\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('environment', {\n\t\t\thttp: {\n\t\t\t\tinterceptors: [], // ['AuthService'],\n\t\t\t\twithCredentials: false,\n\t\t\t},\n\t\t\tlanguage: {\n\t\t\t\tcode: 'it',\n\t\t\t\tculture: 'it_IT',\n\t\t\t\tiso: 'ITA',\n\t\t\t\tname: 'Italiano',\n\t\t\t},\n\t\t\tlocation: {\n\t\t\t\thash: '!',\n\t\t\t\thtml5: false,\n\t\t\t},\n\t\t\tplugins: {\n\t\t\t\tfacebook: {\n\t\t\t\t\tappId: 340008479796111,\n\t\t\t\t\tfields: 'id,name,first_name,last_name,email,gender,picture,cover,link',\n\t\t\t\t\tscope: 'public_profile, email', // publish_stream\n\t\t\t\t\tversion: 'v2.10',\n\t\t\t\t},\n\t\t\t\tgoogle: {\n\t\t\t\t\tapiKey: 'AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U',\n\t\t\t\t\tclientId: '1063539520533-7308vqmt92em6dv1v5q52fq2or36jk95.apps.googleusercontent.com',\n\t\t\t\t},\n\t\t\t\tgooglemaps: {\n\t\t\t\t\tapiKey: 'AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U',\n\t\t\t\t\tstyles: '/googlemaps/applemapesque.json',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tcenter: {\n\t\t\t\t\t\t\tlat: 43.9023386, // latitude\n\t\t\t\t\t\t\tlng: 12.8505094, // longitude\n\t\t\t\t\t\t},\n\t\t\t\t\t\tzoom: 4.0,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmapbox: {\n\t\t\t\t\taccessToken: 'pk.eyJ1IjoiYWN0YXJpYW4iLCJhIjoiY2lqNWU3MnBzMDAyZndnbTM1cjMyd2N2MiJ9.CbuEGSvOAfIYggQv854pRQ',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tcenter: [\n                            12.8505094, // longitude\n                            43.9023386, // latitude\n                        ],\n\t\t\t\t\t\tzoom: 4.0,\n\t\t\t\t\t},\n\t\t\t\t\tstyle: 'mapbox://styles/actarian/cja82nadj07sn2rmty6n1n5pk',\n\t\t\t\t\tversion: 'v0.42.0',\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('local', {\n\t\t\tpaths: {\n\t\t\t\tapi: 'http://localhost:6001/api',\n\t\t\t\tapp: 'http://localhost:6001',\n\t\t\t},\n\t\t\tplugins: {\n\t\t\t\tfacebook: {\n\t\t\t\t\tappId: 340008479796111,\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('production', {\n\t\t\tpaths: {\n\t\t\t\tapi: 'https://actarian.github.io/scavolini-reserve/api',\n\t\t\t\tapp: 'https://actarian.github.io/scavolini-reserve',\n\t\t\t},\n\t\t\tplugins: {\n\t\t\t\tfacebook: {\n\t\t\t\t\tappId: 156171878319496,\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n    }]);\n\n}());\n\n/* global angular */\n\n(function() {\n\t\"use strict\";\n\n\tvar app = angular.module('app');\n\n\tapp.config(['environmentProvider', function(environmentProvider) {\n\n\t\tenvironmentProvider.add('stage', {\n\t\t\t//\n\t\t});\n\n    }]);\n\n}());\n"]}